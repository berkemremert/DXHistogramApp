<Window x:Class="DXHistogram.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:dxc="http://schemas.devexpress.com/winfx/2008/xaml/charts"
        Title="DevExpress Histogram Example" Height="700" Width="1000">

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="300"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- Input Panel -->
        <Border Grid.Column="0" Background="LightGray" Margin="5" CornerRadius="5">
            <ScrollViewer VerticalScrollBarVisibility="Auto">
                <StackPanel Margin="10">
                    <TextBlock Text="Data Input Panel" 
                               FontSize="16" 
                               FontWeight="Bold" 
                               Margin="0,0,0,10"
                               HorizontalAlignment="Center"/>

                    <!-- Manual Data Input -->
                    <GroupBox Header="Manual Data Entry" Margin="0,0,0,15">
                        <StackPanel>
                            <TextBlock Text="Enter values (comma or space separated):" 
                                       Margin="0,5,0,5" 
                                       TextWrapping="Wrap"/>
                            <TextBox x:Name="txtDataInput" 
                                     Height="80" 
                                     TextWrapping="Wrap" 
                                     AcceptsReturn="True"
                                     VerticalScrollBarVisibility="Auto"
                                     Margin="0,0,0,10"/>
                            <Button x:Name="btnLoadData" 
                                    Content="Load Data" 
                                    Click="LoadUserData_Click"
                                    Margin="0,0,0,5"/>
                            <Button x:Name="btnClearData" 
                                    Content="Clear Data" 
                                    Click="ClearData_Click"/>
                        </StackPanel>
                    </GroupBox>

                    <!-- Sample Data Generation -->
                    <GroupBox Header="Sample Data Generation" Margin="0,0,0,15">
                        <StackPanel>
                            <StackPanel Orientation="Horizontal" Margin="0,5">
                                <TextBlock Text="Count:" Width="50" VerticalAlignment="Center"/>
                                <TextBox x:Name="txtSampleCount" 
                                         Text="1000" 
                                         Width="100" 
                                         Margin="5,0"/>
                            </StackPanel>
                            <StackPanel Orientation="Horizontal" Margin="0,5">
                                <TextBlock Text="Mean:" Width="50" VerticalAlignment="Center"/>
                                <TextBox x:Name="txtSampleMean" 
                                         Text="50" 
                                         Width="100" 
                                         Margin="5,0"/>
                            </StackPanel>
                            <StackPanel Orientation="Horizontal" Margin="0,5">
                                <TextBlock Text="Std Dev:" Width="50" VerticalAlignment="Center"/>
                                <TextBox x:Name="txtSampleStdDev" 
                                         Text="15" 
                                         Width="100" 
                                         Margin="5,0"/>
                            </StackPanel>
                            <Button x:Name="btnGenerateSample" 
                                    Content="Generate Sample Data" 
                                    Click="GenerateSampleData_Click"
                                    Margin="0,10,0,0"/>
                        </StackPanel>
                    </GroupBox>

                    <!-- Histogram Settings -->
                    <GroupBox Header="Histogram Settings" Margin="0,0,0,15">
                        <StackPanel>
                            <StackPanel Orientation="Horizontal" Margin="0,5">
                                <TextBlock Text="Bins:" Width="50" VerticalAlignment="Center"/>
                                <TextBox x:Name="txtBinCount" 
                                         Text="10" 
                                         Width="100" 
                                         Margin="5,0"/>
                            </StackPanel>
                            <Button x:Name="btnUpdateHistogram" 
                                    Content="Update Histogram" 
                                    Click="UpdateHistogram_Click"
                                    Margin="0,10,0,0"/>
                        </StackPanel>
                    </GroupBox>

                    <!-- Data Statistics -->
                    <GroupBox Header="Data Statistics">
                        <StackPanel>
                            <TextBlock x:Name="lblDataCount" Text="Count: 0" Margin="0,2"/>
                            <TextBlock x:Name="lblDataMean" Text="Mean: 0" Margin="0,2"/>
                            <TextBlock x:Name="lblDataStdDev" Text="Std Dev: 0" Margin="0,2"/>
                            <TextBlock x:Name="lblDataMin" Text="Min: 0" Margin="0,2"/>
                            <TextBlock x:Name="lblDataMax" Text="Max: 0" Margin="0,2"/>
                        </StackPanel>
                    </GroupBox>

                    <!-- Chart Designer -->
                    <GroupBox Header="Chart Designer" Margin="0,0,0,15">
                        <StackPanel>
                            <Button x:Name="btnOpenDesigner" 
                                    Content="Open Chart Designer" 
                                    Click="OpenChartDesigner_Click"/>
                        </StackPanel>
                    </GroupBox>

                    <!-- Chart Export -->
                    <GroupBox Header="Chart Export" Margin="0,15,0,15">
                        <StackPanel>
                            <Button x:Name="btnExportToXls" 
                                    Content="Export to XLS" 
                                    Click="ExportToXls_Click"
                                    Margin="0,0,0,5"/>
                            <Button x:Name="btnExportToPdf" 
                                    Content="Export to PDF" 
                                    Click="ExportToPdf_Click"
                                    Margin="0,0,0,5"/>
                            <Button x:Name="btnExportToImage" 
                                    Content="Export to Image" 
                                    Click="ExportToImage_Click"/>
                        </StackPanel>
                    </GroupBox>

                    <!-- File Operations -->
                    <GroupBox Header="File Operations" Margin="0,0,0,0">
                        <StackPanel>
                            <Button x:Name="btnLoadFromFile" 
                                    Content="Load from File" 
                                    Click="LoadFromFile_Click"
                                    Margin="0,0,0,5"/>
                            <Button x:Name="btnSaveData" 
                                    Content="Save Data" 
                                    Click="SaveData_Click"/>
                        </StackPanel>
                    </GroupBox>
                </StackPanel>
            </ScrollViewer>
        </Border>

        <!-- Chart Area -->
        <Grid Grid.Column="1" Margin="5">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <!-- Title -->
            <TextBlock Grid.Row="0" 
                       Text="Data Distribution Histogram" 
                       FontSize="18" 
                       FontWeight="Bold" 
                       Margin="10" 
                       HorizontalAlignment="Center"/>

            <!-- Chart Container -->
            <dxc:ChartControl x:Name="chartControl" Grid.Row="1" Margin="10">
                <dxc:ChartControl.Titles>
                    <dxc:Title HorizontalAlignment="Center" 
                               Content="Frequency Distribution"/>
                </dxc:ChartControl.Titles>

                <dxc:XYDiagram2D>
                    <dxc:XYDiagram2D.AxisX>
                        <dxc:AxisX2D>
                            <dxc:AxisX2D.Title>
                                <dxc:AxisTitle Content="Value Ranges"/>
                            </dxc:AxisX2D.Title>
                        </dxc:AxisX2D>
                    </dxc:XYDiagram2D.AxisX>

                    <dxc:XYDiagram2D.AxisY>
                        <dxc:AxisY2D>
                            <dxc:AxisY2D.Title>
                                <dxc:AxisTitle Content="Frequency"/>
                            </dxc:AxisY2D.Title>
                        </dxc:AxisY2D>
                    </dxc:XYDiagram2D.AxisY>

                    <dxc:BarSideBySideSeries2D DisplayName="Histogram" 
                                              DataSource="{Binding}" 
                                              ArgumentDataMember="Range"
                                              ValueDataMember="Frequency">
                    </dxc:BarSideBySideSeries2D>
                </dxc:XYDiagram2D>
            </dxc:ChartControl>
        </Grid>
    </Grid>
</Window>